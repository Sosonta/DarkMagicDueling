<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin</title>
  <link rel="stylesheet" href="Admin.css" />
</head>
<video autoplay muted loop playsinline id="background-video">
  <source src="background-loop.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<body>
  <!-- Navbar -->
  <nav>
    <ul class="navbar">
      <li><a href="Home.html">Home</a></li>
      <li><a href="Duel-ID.html">Duel-ID</a></li>
      <li><a href="Card-Case.html">Card Case</a></li>
      <li><a href="Pack-Opener.html">Pack Opener</a></li>
      <li><a href="Admin.html">Admin</a></li>
    </ul>
  </nav>
  <main id="admin-panel" style="display: none;">

<div id="pool-modal" class="modal-overlay hidden">
  <div class="modal-content">
    <h2 id="modal-title">Select a Pool</h2>
    <ul id="pool-list"></ul>
    <button id="close-modal">Close</button>
  </div>
</div>

<div id="filter-bar">
  <input type="text" id="name-filter" placeholder="Name..." />
  <input type="text" id="effect-filter" placeholder="Effect..." />

<div class="filter-dropdown">
  <button class="dropdown-toggle">Card</button>
  <div class="dropdown-content" id="card-type-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Attribute</button>
  <div class="dropdown-content" id="attribute-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Type</button>
  <div class="dropdown-content" id="race-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Level</button>
  <div class="dropdown-content" id="level-filter"></div>
</div>

  <div class="stat-group">
    <input type="number" id="atk-min" placeholder="ATK Min" />
    <input type="number" id="atk-max" placeholder="ATK Max" />
  </div>
  <div class="stat-group">
    <input type="number" id="def-min" placeholder="DEF Min" />
    <input type="number" id="def-max" placeholder="DEF Max" />
  </div>

  <button id="clear-filters">Clear</button>
</div>

<div id="pool-controls-header">
<div id="pool-name-box">
  <div id="pool-name-display">No Pool Loaded</div>
</div>
<div id="pool-controls-top">
  <button onclick="savePool()">Save</button>
  <button onclick="savePoolAs()">Save As</button>
  <button onclick="openPoolModal('load')">Load</button>
  <button onclick="copyPool()">Copy</button>
  <button onclick="clearPool()">Clear</button>
  <button onclick="openPoolModal('delete')">Delete</button>
</div>
</div>

<div id="card-pool-builder">

  <!-- Center: Pool -->
  <div id="card-pool" class="pool-block">
<div id="rarity-section">
  <div class="rarity-row" data-rarity="Common">
    <div class="rarity-title">Common</div>
    <div class="rarity-grid" data-rarity="Common"></div>
  </div>
  <div class="rarity-row" data-rarity="Rare">
    <div class="rarity-title">Rare</div>
    <div class="rarity-grid" data-rarity="Rare"></div>
  </div>
  <div class="rarity-row" data-rarity="Super Rare">
    <div class="rarity-title">Super Rare</div>
    <div class="rarity-grid" data-rarity="Super Rare"></div>
  </div>
  <div class="rarity-row" data-rarity="Ultra Rare">
    <div class="rarity-title">Ultra Rare</div>
    <div class="rarity-grid" data-rarity="Ultra Rare"></div>
  </div>
  <div class="rarity-row" data-rarity="Secret Rare">
    <div class="rarity-title">Secret Rare</div>
    <div class="rarity-grid" data-rarity="Secret Rare"></div>
  </div>
</div>

    <div id="pool-controls">
      <button id="remove-card-btn">Remove Selected</button>
      <select id="change-rarity-select">
        <option disabled selected>Move to...</option>
        <option value="Common">Common</option>
        <option value="Rare">Rare</option>
        <option value="Super Rare">Super Rare</option>
        <option value="Ultra Rare">Ultra Rare</option>
        <option value="Secret Rare">Secret Rare</option>
      </select>
    </div>
  </div>

<!-- Right: Card Search -->
<div id="card-browser" class="pool-block">
  <div id="card-grid"></div>

  <div id="pagination-controls">
    <button id="prev-page">Previous</button>
    <span id="page-info">Page 1</span>
    <button id="next-page">Next</button>
  </div>
  </div>

    <div id="card-preview" class="pool-block">
      <img id="preview-img" src="" alt="Card Preview" />
    </div>

</div>

<!-- ðŸ”» GIVE SECTION BELOW POOL BUILDER -->
<hr style="margin: 30px 0; border-color: #333;">
<section id="give-section">
  <h2>Collection Tool</h2>

  <!-- Select User -->
  <div class="give-row">
    <button id="select-user-btn">Select User</button>
    <span id="selected-user-display">No user selected</span>
  </div>

  <!-- Select Pack Pool -->
  <div class="give-row">
    <label for="pool-select">Card Pool:</label>
    <select id="pool-select">
      <option value="">-- None --</option>
      <!-- JS will populate this -->
    </select>

    <label for="pool-qty">Quantity:</label>
    <input type="number" id="give-pack-qty" value="1" min="1">
  </div>

  <!-- Give Card Directly -->
<div class="give-row">
  <label for="give-card-name">Card Name:</label>
  <input type="text" id="give-card-name" placeholder="Exact card name" list="card-name-options">
<datalist id="card-name-options"></datalist>

  <label for="give-card-qty">Quantity:</label>
  <input type="number" id="give-card-qty" value="1" min="1">
</div>

  <!-- Final Give Button -->
  <div class="give-row">
    <button id="give-btn">Give</button>
  </div>
</section>

<!-- ðŸ”» USER SELECT MODAL -->
<div id="user-modal" class="modal-overlay hidden">
  <div class="modal-content">
    <h3>Select a User</h3>
    <ul id="user-list"></ul>
    <button id="close-user-modal">Close</button>
  </div>
</div>

  </main>

  <script type="module" src="./firebase.js"></script>
  <script type="module" src="./Admin.js"></script>
</body>
</html>