<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Card Case</title>
  <link rel="stylesheet" href="Card-Case.css" />
</head>
<video autoplay muted loop playsinline id="background-video">
  <source src="background-loop.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<body>
  <!-- Navbar -->
  <nav>
    <ul class="navbar">
      <li><a href="Home.html">Home</a></li>
      <li><a href="Duel-ID.html">Duel-ID</a></li>
      <li><a href="Card-Case.html">Card Case</a></li>
      <li><a href="Pack-Opener.html">Pack Opener</a></li>
      <li><a href="Admin.html">Admin</a></li>
    </ul>
  </nav>

<div id="filter-bar">
  <input type="text" id="name-filter" placeholder="Name..." />
  <input type="text" id="effect-filter" placeholder="Effect..." />

<div class="filter-dropdown">
  <button class="dropdown-toggle">Card</button>
  <div class="dropdown-content" id="card-type-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Attribute</button>
  <div class="dropdown-content" id="attribute-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Type</button>
  <div class="dropdown-content" id="race-filter"></div>
</div>

<div class="filter-dropdown">
  <button class="dropdown-toggle">Level</button>
  <div class="dropdown-content" id="level-filter"></div>
</div>

  <div class="stat-group">
    <input type="number" id="atk-min" placeholder="ATK Min" />
    <input type="number" id="atk-max" placeholder="ATK Max" />
  </div>
  <div class="stat-group">
    <input type="number" id="def-min" placeholder="DEF Min" />
    <input type="number" id="def-max" placeholder="DEF Max" />
  </div>

  <button id="clear-filters">Clear</button>
</div>

<div id="deck-controls-row">
  <div id="deck-controls">
    <button id="save-deck">Save</button>
    <button id="save-deck-as">Save As</button>
    <button id="load-deck">Load</button>
    <button id="copy-deck">Copy</button>
    <button id="delete-deck">Delete</button>
<span id="current-deck-name">Unsaved Deck</span>
  </div>
  <button id="deck-settings-btn">Settings</button>
</div>

<main id="card-case">

  <!-- ðŸŸ¨ Card Viewer Block -->
<section id="card-viewer">
  <img id="card-preview-img" src="" alt="" />
  <div id="card-controls" style="display: none;">
    <div id="card-qty-display">x0</div>
    <button id="remove-one-btn">-1</button>
    <button id="add-one-btn">+1</button>
  </div>
</section>

  <!-- ðŸŸ¦ Deck Builder Block -->
  <section id="deck-builder">

    <div class="deck-section" id="main-deck">
      <h2>Main Deck (0/60)</h2>
      <div class="card-grid" data-zone="main"></div>
    </div>

    <div class="deck-section" id="extra-deck">
      <h2>Extra Deck (0/15)</h2>
      <div class="card-grid" data-zone="extra"></div>
    </div>

    <div class="deck-section" id="side-deck">
      <h2>Side Deck (0/15)</h2>
      <div class="card-grid" data-zone="side"></div>
    </div>
  </section>

  <!-- ðŸŸ© Collection Block -->
  <section id="collection">
    <div id="collection-grid" class="card-grid"></div>
  </section>

</main>

<div id="settings-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <h3>Settings</h3>
    <button id="delete-selected-btn">Delete Selected Card</button>
    <button id="delete-collection-btn">Delete Collection</button>
    <button id="sort-recent-btn">Sort by Recently Obtained</button>
    <button id="sort-alpha-btn">Sort by Alphabetical</button>
    <button id="close-settings-btn">Close</button>
  </div>
</div>

<div id="delete-prompt-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <h3>Delete How Many?</h3>
    <input type="number" id="delete-amount" placeholder="Enter amount..." min="1" />
    <div style="display: flex; justify-content: space-between; gap: 10px; margin-top: 1rem;">
      <button id="delete-amount-confirm">Delete</button>
      <button id="delete-amount-all">All</button>
      <button id="delete-amount-cancel">Cancel</button>
    </div>
  </div>
</div>

<div id="deck-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <h3 id="deck-modal-title">Select a Deck</h3>
    <ul id="deck-list"></ul>
    <button id="close-deck-modal">Cancel</button>
  </div>
</div>

<script type="module" src="./firebase.js"></script>
<script type="module" src="./Card-Case.js"></script>
</body>
</html>